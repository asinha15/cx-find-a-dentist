var fakeassdata = [{
  "providerKey": "GRP240638111240638111001PRV240729417HY",
  "firstName": "Karine",
  "middleName": "A",
  "lastName": "Strickland",
  "specialty": "Hygienist",
  "officeName": "Hygentle Care",
  "address": {
    "addressLine": "370 Lee St",
    "city": "Santa Cruz",
    "state": "CA",
    "zipcode": "950601949",
    "latitude": 36.9917679,
    "longitude": -122.0146179
  },
  "distance": 1.6,
  "acceptsNewPatents": "Yes",
  "providerNetworks": [
    "2PREMIER"
  ],
  "providerLanguages": [
    "English"
  ]
},
{
  "providerKey": "GRP240588584240588584001PRV24067751000",
  "firstName": "Cyrus",
  "middleName": "K",
  "lastName": "Oster",
  "specialty": "General Dentist",
  "officeName": "Cyrus K Oster",
  "address": {
    "addressLine": "1505 Soquel Dr Ste 11",
    "city": "Santa Cruz",
    "state": "CA",
    "zipcode": "950651716",
    "latitude": 36.9884491,
    "longitude": -121.9849396
  },
  "distance": 1.9,
  "acceptsNewPatents": "Yes",
  "providerNetworks": [
    "2PREMIER"
  ],
  "providerLanguages": [
    "English"
  ]
},
{
  "providerKey": "GRP240639363240639363002PRV24067666300",
  "firstName": "Terry",
  "middleName": "R",
  "lastName": "Schmunk",
  "specialty": "General Dentist",
  "officeName": "Terry R Schmunk DDS Mph",
  "address": {
    "addressLine": "1505 Soquel Dr # S-11, ",
    "city": "Santa Cruz",
    "state": "CA",
    "zipcode": "950651716",
    "latitude": 36.9884491,
    "longitude": -121.9849396
  },
  "distance": 1.9,
  "acceptsNewPatents": "Yes",
  "providerNetworks": [
    "2PREMIER"
  ],
  "providerLanguages": [
    "English"
  ]
},
{
  "providerKey": "GRP240604451240604451001PRV24070409500",
  "firstName": "John",
  "middleName": "C",
  "lastName": "Coffey",
  "specialty": "General Dentist",
  "officeName": "J Coffey  DDS",
  "address": {
    "addressLine": "1505 Soquel Dr Ste 6",
    "city": "Santa Cruz",
    "state": "CA",
    "zipcode": "950651716",
    "latitude": 36.9884491,
    "longitude": -121.9849396
  },
  "distance": 1.9,
  "acceptsNewPatents": "Yes",
  "providerNetworks": [
    "2PREMIER"
  ],
  "providerLanguages": []
},
{
  "providerKey": "GRP443824837443824837001PRV66915074500",
  "firstName": "Tina-Lise",
  "middleName": null,
  "lastName": "Curtis",
  "specialty": "General Dentist",
  "officeName": "Tina-Lise Curtis DDS",
  "address": {
    "addressLine": "1505 Soquel Dr Ste 6",
    "city": "Santa Cruz",
    "state": "CA",
    "zipcode": "950651716",
    "latitude": 36.9884491,
    "longitude": -121.9849396
  },
  "distance": 1.9,
  "acceptsNewPatents": "Yes",
  "providerNetworks": [
    "2PREMIER",
    "2PPO"
  ],
  "providerLanguages": [
    "English"
  ]
},
{
  "providerKey": "GRP240587050240587050001PRV24070331000",
  "firstName": "Christopher",
  "middleName": "C",
  "lastName": "Keys",
  "specialty": "General Dentist",
  "officeName": "Christopher C Keys",
  "address": {
    "addressLine": "1505 Soquel Dr Ste 5B",
    "city": "Santa Cruz",
    "state": "CA",
    "zipcode": "950651716",
    "latitude": 36.9883995,
    "longitude": -121.9849548
  },
  "distance": 1.9,
  "acceptsNewPatents": "Yes",
  "providerNetworks": [
    "2PREMIER"
  ],
  "providerLanguages": [
    "English",
    "Spanish"
  ]
},
{
  "providerKey": "GRP240584805240584805001PRV24069733340",
  "firstName": "Cyrus",
  "middleName": "K",
  "lastName": "Mozayan",
  "specialty": "Periodontist",
  "officeName": "C K Mozayan  DMD MDs Inc",
  "address": {
    "addressLine": "3323 Mission Dr",
    "city": "Santa Cruz",
    "state": "CA",
    "zipcode": "950651827",
    "latitude": 36.9915123,
    "longitude": -121.9814453
  },
  "distance": 1.9,
  "acceptsNewPatents": "Yes",
  "providerNetworks": [
    "2PREMIER",
    "2PPO"
  ],
  "providerLanguages": [
    "Korean",
    "Farsi",
    "English"
  ]
},
{
  "providerKey": "GRP955390788955390788001PRV18295383500",
  "firstName": "Scott",
  "middleName": "Jason",
  "lastName": "Weston",
  "specialty": "General Dentist",
  "officeName": "Landmark Dental Group",
  "address": {
    "addressLine": "3319 Mission Dr, ",
    "city": "Santa Cruz",
    "state": "CA",
    "zipcode": "950651827",
    "latitude": 36.9912682,
    "longitude": -121.981514
  },
  "distance": 1.9,
  "acceptsNewPatents": "Yes",
  "providerNetworks": [
    "2PREMIER"
  ],
  "providerLanguages": [
    "English"
  ]
},
{
  "providerKey": "GRP955390788955390788001PRV03628189100",
  "firstName": "Trang",
  "middleName": "Khanh",
  "lastName": "Tran",
  "specialty": "General Dentist",
  "officeName": "Landmark Dental Group",
  "address": {
    "addressLine": "3319 Mission Dr, ",
    "city": "Santa Cruz",
    "state": "CA",
    "zipcode": "950651827",
    "latitude": 36.9912682,
    "longitude": -121.981514
  },
  "distance": 1.9,
  "acceptsNewPatents": "Yes",
  "providerNetworks": [
    "2PREMIER"
  ],
  "providerLanguages": [
    "English"
  ]
},
{
  "providerKey": "GRP240618729240618729001PRV24067485720",
  "firstName": "Mark",
  "middleName": "W",
  "lastName": "Joiner",
  "specialty": "Orthodontist",
  "officeName": "Mark Joiner  Orthodontics",
  "address": {
    "addressLine": "1773 Dominican Way",
    "city": "Santa Cruz",
    "state": "CA",
    "zipcode": "950651526",
    "latitude": 36.9910965,
    "longitude": -121.9815674
  },
  "distance": 1.9,
  "acceptsNewPatents": "Yes",
  "providerNetworks": [
    "2PREMIER"
  ],
  "providerLanguages": [
    "Spanish",
    "English"
  ]
}];

var Map = {
  map : {},
  markers : [],
  infoWindow : new google.maps.InfoWindow({
  	content: document.getElementById('info-content')
  }),
  zoom : 11,
  bounds : {},

  providerMap: function() {

    Map.map = new google.maps.Map(document.getElementById('provider-map'), {
  		center: new google.maps.LatLng("37", "-122"),
  		mapTypeId: google.maps.MapTypeId.ROADMAP,
  		zoom: Map.zoom,
  		scrollwheel: false,
  		disableDefaultUI: false,
  		mapTypeControl: false,
  		backgroundColor: '#fff'
  	});

    Map.markers = []; //reset markers
  	Map.bounds = new google.maps.LatLngBounds(); // reset bounds

    for (var i = 0, h=0; i <= fakeassdata.length; i++, h++) {
			Map.markers[h] = new google.maps.Marker({
				position: new google.maps.LatLng(fakeassdata[i].address.latitude, fakeassdata[i].address.longitude),
				map: Map.map,
        placeResult : fakeassdata[i],
        markerID : i
			});
      attachClickInfo(Map.markers[h]);
		}

    function attachClickInfo(marker) {
      marker.addListener('click', function() {
        Map.infoWindow.open(Map.map, marker);
      	Map.buildIWContent(marker.placeResult);
      });
    }

    //TODO this miscalculates the markers array length
    // if ((end-start) === 0) {
    //   Map.map.setCenter(new google.maps.LatLng(Map.markers[0].position.lat(), Map.markers[0].position.lng()));
    //   // TODO set a default zoom level
    // } else {
    //   for (var j = 0; j < Map.markers.length; j++) {
  	// 		Map.bounds.extend(Map.markers[j].getPosition());
  	// 	}
  	// 	Map.map.fitBounds(Map.bounds);
    // }
  },

  buildIWContent : function(place) {
  	var infoWindowCont = $("#info-content");
  	infoWindowCont.html("some fake ass shit" + place.firstName);
  }
};
